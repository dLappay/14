<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Juliana only üòä</title>
    <link rel="stylesheet" href="first_page.css">
</head>
<body>
    <div class="valentines-day-card">
        <input id="open" type="checkbox">
        <label class="open" for="open"></label>
        <div class="card-front">
            <div class="note">Click to Open</div>
        </div>
        
        <div class="card-inside">
            <div class="text-one">Happy Valentine's Day Juliana</div>
            <div class="heart"></div>
            <div class="smile"></div>
            <div class="eyes"></div>
        </div>
    </div>

    <!-- Button outside the card -->
    <button id="action-button" class="action-button" onclick="window.location.href='second_page.html'">
        Continue ‚ù§Ô∏è
    </button>
    <script>
        // Get references to the checkbox and button
        const checkbox = document.getElementById("open");
        const button = document.getElementById("action-button");
    
        // Check localStorage and initialize the card state
        const isCardOpened = localStorage.getItem("cardOpened");
    
        if (isCardOpened === "true") {
            checkbox.checked = true; // Mark checkbox as checked
            button.style.display = "block"; // Show the button
        } else {
            // If localStorage doesn't have the key, or it is "false", set to closed
            checkbox.checked = false; // Ensure checkbox is unchecked
            button.style.display = "none"; // Hide the button
            localStorage.setItem("cardOpened", "false"); // Explicitly save the closed state
        }
    
        // Listen for checkbox state changes
        checkbox.addEventListener("change", function () {
            if (this.checked) {
                button.style.display = "block"; // Show the button when card is opened
                localStorage.setItem("cardOpened", "true"); // Save state to localStorage
            } else {
                button.style.display = "none"; // Hide the button when card is closed
                localStorage.setItem("cardOpened", "false"); // Save state to localStorage
            }
        });
    </script> 
</body>
</html>
